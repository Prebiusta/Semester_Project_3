@model ContainerForListAndId<UserWithName>

@{
    ViewData["Title"] = "Members";
}

<!DOCTYPE html>

<html>
<head>
    <link rel="stylesheet" type="text/css" href="/css/custom.css">
        <title>Edit Members</title>
</head>
<body>
    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
    <h1>Members</h1>
    <h6 id="membersError" class="text-danger"></h6>
    <div class="margin-left-80px" id="divMembers">
        <button class="btn btn-primary" onclick="goToPreviousWebsite()">< Back</button>
        <br />
        <br />
        <button id="addMember" class="btn btn-primary" onclick="location.href='@Url.Action("AddMember", "Members", new {projectId = Model.id })'">+</button>
        <br />
        <br />
        <button id="addMemberJS" class="btn btn-primary" data-toggle="modal" data-target="#addMemberModal" onclick="getUsersOutsideProject('addMemberJS', @Model.id)">JavaScriptList</button>
        <hr />
        <div class="row">
            <ul id="membersInTheProjectList">
                @foreach (var item in Model.accessList)
                {
                    <li class="flex-row">
                        <p>- @item.username   @item.firstName @item.lastName</p>
                        @if (!(@item.username.Equals(User.Identity.Name)))
                        {
                            <button class="deleteMemberButton w3-button w3-black w3-card-4" onclick="location.href='@Url.Action("DeleteMember", "Members", new UserProject(@Model.id, @item.username))'">Delete member from the project</button>
                        }
                    </li>

                }
            </ul>
        </div>
    </div>
    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#addMemberModal">
        Launch demo modal
    </button>

    <!-- Modal -->
    <div class="modal fade" id="addMemberModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title text-primary" id="exampleModalLabel">Members</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div id="addMembersDiv" class="text-secondary"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</body>
</html>